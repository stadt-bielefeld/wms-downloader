<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [compositeTiles][1]
-   [createGetMap][2]
-   [createWorldFile][3]
-   [cropTile][4]
-   [determineGroundResolution][5]
-   [getCountOfTiles][6]
-   [request][7]
-   [getRequestObject][8]
-   [handleResolution][9]
-   [handleTask][10]
-   [handleTiles][11]
-   [handleWMS][12]
-   [WMSDownloader][13]
    -   [start][14]
    -   [cancel][15]
    -   [getProgress][16]
-   [writeTile][17]

## compositeTiles

Merges/Composites two tiles.

**Parameters**

-   `firstFile` **[string][18]** 
-   `secondFile` **[string][18]** 
-   `outputFile` **[string][18]** 
-   `callback` **[function][19]** function(err) {}

## createGetMap

Creates a GetMap url.

**Parameters**

-   `wms` **[object][20]** WMS object
-   `bbox` **[string][18]** Comma-separated bbox
-   `width` **(integer | [string][18])** Width of bbox in pixel
-   `height` **(integer | [string][18])** height of bbox in pixel

Returns **[string][18]** GetMap url

## createWorldFile

Creates world file content.

**Parameters**

-   `x0` **float** X value of start point (top-left)
-   `y0` **float** Y value of start point (top-left)
-   `res` **float** Ground resolution

Returns **[String][18]** Content of world file

## cropTile

Crops the tile on the basis of gutter.

**Parameters**

-   `oldFile` **[string][18]** File to be crop
-   `newFile` **[string][18]** New cropped file
-   `tileSizePx` **integer** Size of the new file / new tile
-   `gutterSizePx` **integer** Size of gutter in old file / old tile
-   `callback` **[function][19]** function(err) {}

## determineGroundResolution

Calculates the ground resolution from scale and dpi.
This function set the variable options.tiles.resolutions\[].groundResolution

**Parameters**

-   `options`  

## getCountOfTiles

Calculates the count of tiles of a task.

**Parameters**

-   `options` **[object][20]** Task options

Returns **[Number][21]** 

## request

Request object from request module.

## getRequestObject

Returns the correct request object with the right proxy settings.

**Parameters**

-   `config`  
-   `url` **[string][18]** URL of tile

Returns **[object][20]** Object from request module (let request =
         require('request');)

## handleResolution

It handles recursive all resolutions of a task.

**Parameters**

-   `options` **[object][20]** 
-   `ws` **[string][18]** Task workspace
-   `resIdx` **integer** Index of resolution
-   `config`  
-   `progress`  
-   `callback`  function(err){}

## handleTask

It handles a download task of Web Map Services.

**Parameters**

-   `options` **[object][20]** 
-   `config`  
-   `progress`  
-   `callback` **[function][19]** function(err){}

## handleTiles

It handles recursive all tiles of a resolution of a Web Map Service.

**Parameters**

-   `options` **[object][20]** 
-   `wms` **[object][20]** WMS object
-   `ws` **[string][18]** WMS workspace
-   `tiles` **[object][20]** Object with tile parameters
-   `xIdx` **integer** X-Index of tile
-   `yIdx` **integer** Y-Index of tile
-   `res` **float** Ground resolution
-   `config`  
-   `progress`  
-   `callback` **[function][19]** function(err){}

## handleWMS

It handles recursive all Web Map Services of a resolution.

**Parameters**

-   `options` **[object][20]** 
-   `ws` **[string][18]** Resolution workspace
-   `res` **objext** Resolution object
-   `wmsIdx` **integer** Index of WMS
-   `config`  
-   `progress`  
-   `callback` **[function][19]** function(err){}

## WMSDownloader

aa

**Parameters**

-   `options`  

### start

Starts a download.

**Parameters**

-   `options` **[object][20]** 
-   `callback` **[function][19]** Callback function like `function(err){}`

### cancel

Cancels a download.

**Parameters**

-   `id` **[string][18]** ID of the task
-   `callback` **[function][19]** Callback function like `function(err){}`

### getProgress

Returns the progress of a download.

**Parameters**

-   `id` **[string][18]** 

Returns **[object][20]** aaa

## writeTile

Downloads and writes a tile.

**Parameters**

-   `file` **[string][18]** Path where the tile is to be stored.
-   `url` **[string][18]** URL of tile
-   `request` **[object][20]** Object from request module (let request =
             require('request');)
-   `callback` **[function][19]** function(err,res){}

[1]: #compositetiles

[2]: #creategetmap

[3]: #createworldfile

[4]: #croptile

[5]: #determinegroundresolution

[6]: #getcountoftiles

[7]: #request

[8]: #getrequestobject

[9]: #handleresolution

[10]: #handletask

[11]: #handletiles

[12]: #handlewms

[13]: #wmsdownloader

[14]: #start

[15]: #cancel

[16]: #getprogress

[17]: #writetile

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
